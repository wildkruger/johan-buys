"use strict";function restrictNumberToPrefdecimalOnInput(e){var type=$("select#currency_id").find(":selected").data("type");restrictNumberToPrefdecimal(e,type)}function determineDecimalPoint(){var currencyType=$("select#currency_id").find(":selected").data("type");"crypto"==currencyType?($(".pFees, .fFees, .total_fees").text(CRYPTODP),$("#amount").attr("placeholder",CRYPTODP)):"fiat"==currencyType&&($(".pFees, .fFees, .total_fees").text(FIATDP),$("#amount").attr("placeholder",FIATDP))}if($(".main-containt").find("#crypto-send-create").length){var amount,receiverAddress,priority="low",receiverAddressValidationError=$(".receiver-address-validation-error"),amountValidationError=$(".amount-validation-error"),receiverAddressErrorFlag=!1,amountErrorFlag=!1;function checkSubmitBtn(){receiverAddressErrorFlag||amountErrorFlag?$("#crypto-send-submit-btn").attr("disabled",!0):$("#crypto-send-submit-btn").attr("disabled",!1)}let currencyType=$("#network").data("type");function checkAddressValidity(receiverAddress,walletCurrencyCode){return new Promise((function(resolve,reject){$.ajax({method:"GET",url:validateAddressUrl,dataType:"json",data:{receiverAddress:receiverAddress,walletCurrencyCode:walletCurrencyCode},beforeSend:function(){swal(pleaseWait,loading,{closeOnClickOutside:!1,closeOnEsc:!1,buttons:!1})}}).done((function(res){swal.close(),200!=res.status?(receiverAddressValidationError.text(res.message),receiverAddressErrorFlag=!0,checkSubmitBtn()):(receiverAddressValidationError.text(""),receiverAddressErrorFlag=!1,checkSubmitBtn()),resolve(res.status)})).fail((function(err){return swal.close(),err.responseText.hasOwnProperty("message")?alert(JSON.parse(err.responseText).message):alert(err.responseText),reject(err),!1}))}))}function checkMinimumAmount(message){amountValidationError.text(message),receiverAddressErrorFlag=!0,amountErrorFlag=!0,checkSubmitBtn()}function checkAmountValidity(amount,senderAddress,receiverAddress,walletCurrencyCode){return priority=getPriority($("#priority").val()),new Promise((function(resolve,reject){("DOGE"==walletCurrencyCode||"DOGETEST"==walletCurrencyCode)&&amount<2?checkMinimumAmount(`${minCryptoAmount.replace(":x","2 "+walletCurrencyCode)}`):("BTC"==walletCurrencyCode||"BTCTEST"==walletCurrencyCode)&&amount<2e-5?checkMinimumAmount(`${minCryptoAmount.replace(":x",2e-5+" "+walletCurrencyCode)}`):("LTC"==walletCurrencyCode||"LTCTEST"==walletCurrencyCode)&&amount<2e-4?checkMinimumAmount(`${minCryptoAmount.replace(":x",2e-4+" "+walletCurrencyCode)}`):$.ajax({method:"GET",url:validateBalanceUrl,dataType:"json",data:{amount:amount,senderAddress:senderAddress,receiverAddress:receiverAddress,walletCurrencyCode:walletCurrencyCode,priority:priority},beforeSend:function(){swal(pleaseWait,loading,{closeOnClickOutside:!1,closeOnEsc:!1,buttons:!1})}}).done((function(res){swal.close(),401==res.status?(amountValidationError.text(res.message),amountErrorFlag=!0,checkSubmitBtn()):(amountValidationError.text(""),receiverAddressErrorFlag=!1,amountErrorFlag=!1,checkSubmitBtn()),resolve()})).fail((function(err){return swal.close(),err.responseText.hasOwnProperty("message")?alert(JSON.parse(err.responseText).message):alert(err.responseText),reject(err),!1}))}))}function getPriority(priority){return priority="high"==priority?"high":"medium"==priority?"medium":"low"}"crypto"!=currencyType&&"crypto_asset"!=currencyType||$("#amount").attr("placeholder",CRYPTODP),$(window).on("load",(function(e){var previousUserCrytoSentUrl=window.localStorage.getItem("previousUserCrytoSentUrl"),userConfirmationCryptoSentUrl=cryptoSendConfirmUrl,userCryptoSendAmount=window.localStorage.getItem("user-crypto-sent-amount"),userCryptoReceiverAddress=window.localStorage.getItem("user-crypto-receiver-address"),priority=window.localStorage.getItem("priority");userConfirmationCryptoSentUrl==previousUserCrytoSentUrl&&null!=userCryptoSendAmount&&null!=userCryptoReceiverAddress&&(swal(pleaseWait,loading,{closeOnClickOutside:!1,closeOnEsc:!1,buttons:!1}),$(".amount").val(userCryptoSendAmount),$(".receiverAddress").val(userCryptoReceiverAddress),$(".priority").val(priority),checkAmountValidity($(".amount").val().trim(),senderAddress,$(".receiverAddress").val().trim(),walletCurrencyCode).then(()=>{$("#crypto-send-submit-btn").attr("disabled",!1),$(".spinner").hide(),$("#crypto-send-submit-btn-txt").html(sendBtn),window.localStorage.removeItem("user-crypto-sent-amount"),window.localStorage.removeItem("user-crypto-receiver-address"),window.localStorage.removeItem("priority"),window.localStorage.removeItem("previousUserCrytoSentUrl"),swal.close()}).catch(error=>{swal.close(),error.responseText.hasOwnProperty("message")?alert(JSON.parse(error.responseText).message):alert(error.responseText)}))})),$(document).on("keyup",".receiverAddress",$.debounce(1e3,(function(e){receiverAddress=$(this).val().trim(),amount=$(".amount").val().trim(),0==receiverAddress.length?(receiverAddressValidationError.text(""),receiverAddressErrorFlag=!1,checkSubmitBtn()):checkAddressValidity(receiverAddress,walletCurrencyCode).then(res=>{amount.length>0&&!isNaN(amount)&&200==res&&checkAmountValidity(amount,senderAddress,receiverAddress,walletCurrencyCode)}).catch(error=>{error.responseText.hasOwnProperty("message")?alert(JSON.parse(error.responseText).message):alert(error.responseText)})}))),$(document).on("keyup",".amount",$.debounce(700,(function(e){amount=$(this).val().trim(),receiverAddress=$(".receiverAddress").val().trim(),amount.length>0&&receiverAddress.length>0&&!isNaN(amount)?checkAmountValidity(amount,senderAddress,receiverAddress,walletCurrencyCode).then(res=>{""!=receiverAddress&&200==res&&checkAddressValidity(receiverAddress,walletCurrencyCode)}).catch(error=>{error.responseText.hasOwnProperty("message")?alert(JSON.parse(error.responseText).message):alert(error.responseText)}):(amountValidationError.text(""),amountErrorFlag=!1,checkSubmitBtn())}))),$("#priority").on("change",(function(){amount=$(".amount").val().trim(),receiverAddress=$(".receiverAddress").val().trim(),amount.length>0&&receiverAddress.length>0&&!isNaN(amount)?checkAmountValidity(amount,senderAddress,receiverAddress,walletCurrencyCode).then(res=>{""!=receiverAddress&&200==res&&checkAddressValidity(receiverAddress,walletCurrencyCode)}).catch(error=>{error.responseText.hasOwnProperty("message")?alert(JSON.parse(error.responseText).message):alert(error.responseText)}):(amountValidationError.text(""),amountErrorFlag=!1,checkSubmitBtn())})),$("#crypto-send-form").on("submit",(function(){window.localStorage.setItem("user-crypto-sent-amount",$(".amount").val().trim()),window.localStorage.setItem("user-crypto-receiver-address",$(".receiverAddress").val().trim()),window.localStorage.setItem("priority",$(".priority").val().trim()),$("#crypto-send-submit-btn").attr("disabled",!0),$(".spinner").removeClass("d-none"),$("#rightAngleSvgIcon").addClass("d-none"),$("#crypto-send-submit-btn-txt").text(submitBtnText)}))}function printFunc(){window.print()}if($(".main-containt").find("#crypto-send-confirm").length&&$("#cryptoSendConfirmForm").on("submit",(function(){$("#cryptoSendConfirmBtn").attr("disabled",!0),$("#cryptoSendBackBtn").removeAttr("href"),$(".spinner").removeClass("d-none"),$("#rightAngleSvgIcon").addClass("d-none"),$("#cryptoSendConfirmBtnText").text(confirmBtnText)})),$(".main-containt").find("#crypto-send-success").length){function disable_f5(e){116==(e.which||e.keyCode)&&e.preventDefault()}function disable_ctrl_r(e){82==e.keyCode&&e.ctrlKey&&e.preventDefault()}$(document).ready((function(){window.history.pushState(null,"",window.location.href),window.onpopstate=function(){window.history.pushState(null,"",window.location.href)}})),$(document).ready((function(){$(document).bind("keydown",disable_f5)})),$(document).ready((function(){$(document).bind("keydown",disable_ctrl_r)}))}$(".main-containt").find("#crypto-receive-create").length&&($(window).on("load",(function(e){jQuery("#wallet-address").qrcode({text:addressText})})),$(document).on("click",".wallet-address-copy-btn",(function(){$("#wallet-address-input").select(),document.execCommand("copy"),swal({title:copied,text:addressCopyText,type:"info",icon:"success",closeOnClickOutside:!1,closeOnEsc:!1})})));