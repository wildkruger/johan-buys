"use strict";function restrictNumberToPrefdecimalOnInput(e){let currencyType=$("select#currency_id option:selected").data("type");restrictNumberToPrefdecimal(e,currencyType)}function determineDecimalPoint(){let currencyType=$("select#currency_id").find(":selected").data("type");"crypto"==currencyType?$("#amount").attr("placeholder",CRYPTODP):"fiat"==currencyType&&$("#amount").attr("placeholder",FIATDP)}if($(".main-containt").find("#requestMoneyCreate").length){let recipientErrorFlag=!1,amountErrorFlag=!1;function enableDisableButton(){recipientErrorFlag||amountErrorFlag?$("#requestMoneyCreateSubmitBtn").attr("disabled",!0):$("#requestMoneyCreateSubmitBtn").attr("disabled",!1)}function requestMoneyGetStringAfterPlusSymbol(str){return str.split("+")[1]}function emailPhoneValidationCheck(emailOrPhone){emailOrPhone&&0!=emailOrPhone.length?"email"==processedBy?validateEmail(emailOrPhone)?($(".requestEmailOrPhoneError").html(""),recipientErrorFlag=!1,enableDisableButton()):($(".requestEmailOrPhoneError").html(validEmailMessage).insertAfter($("#requestCreatorEmail")),recipientErrorFlag=!0,enableDisableButton()):"phone"==processedBy?"+"==emailOrPhone.charAt(0)&&$.isNumeric(requestMoneyGetStringAfterPlusSymbol(emailOrPhone))?($(".requestEmailOrPhoneError").html(""),recipientErrorFlag=!1,enableDisableButton()):($(".requestEmailOrPhoneError").html(validPhoneMessage).insertAfter($("#requestCreatorEmail")),recipientErrorFlag=!0,enableDisableButton()):"email_or_phone"==processedBy&&("+"==emailOrPhone.charAt(0)&&$.isNumeric(requestMoneyGetStringAfterPlusSymbol(emailOrPhone))?($(".requestEmailOrPhoneError").html(""),recipientErrorFlag=!1,enableDisableButton()):validateEmail(emailOrPhone)?($(".requestEmailOrPhoneError").html(""),recipientErrorFlag=!1,enableDisableButton()):($(".requestEmailOrPhoneError").html(validEmailOrPhoneMessage).insertAfter($("#requestCreatorEmail")),recipientErrorFlag=!0,enableDisableButton())):($(".requestEmailOrPhoneError").html(""),recipientErrorFlag=!1,enableDisableButton())}function requestReceiverAccountStatusCheck(emailOrPhone){$.post({url:checkEmailOrPhoneUrl,dataType:"json",data:{_token:csrfToken,emailOrPhone:emailOrPhone}}).done((function(response){!0===response.status||404===response.status?($(".requestEmailOrPhoneError").html(response.message).insertAfter($("#requestCreatorEmail")),recipientErrorFlag=!0,enableDisableButton()):($(".requestEmailOrPhoneError").html(""),recipientErrorFlag=!0,enableDisableButton())}))}var lastCurrencyType,currentCurrencyType;$(window).on("load",(function(){let emailOrPhone=$("#requestCreatorEmail").val().trim();null!=emailOrPhone&&emailPhoneValidationCheck(emailOrPhone)})),$(document).on("input","#requestCreatorEmail",(function(e){let emailOrPhone=$("#requestCreatorEmail").val().trim();emailOrPhone&&(emailPhoneValidationCheck(emailOrPhone),requestReceiverAccountStatusCheck(emailOrPhone))})),$("select").change((function(){lastCurrencyType="undefined"!==$(this).attr("data-old")?$(this).attr("data-old"):"",currentCurrencyType=$("option:selected",this).data("type"),$(this).attr("data-old",currentCurrencyType)})).change(),$(document).on("change","#currency_id",(function(){lastCurrencyType!==currentCurrencyType&&$("#amount").val(""),determineDecimalPoint()})),$("#requestMoneyCreateForm").on("submit",(function(){setTimeout((function(){$("#requestMoneyCreateSubmitBtn").removeAttr("disabled"),$(".spinner").addClass("d-done"),$("#requestMoneyCreateSubmitBtnText").html("Proceed"),$("#requestMoneySvgIcon").removeClass("d-none")}),2e3),$(".spinner").removeClass("d-none"),$("#requestMoneySvgIcon").addClass("d-none"),$("#requestMoneyCreateSubmitBtn").attr("disabled",!0),$("#requestMoneyCreateSubmitBtnText").text(submitBtnText)}))}$(".main-containt").find("#requestMoneyConfirm").length&&$("#requestMoneyConfirmForm").on("submit",(function(){$("#requestMoneyConfirmBtn").attr("disabled",!0),$("#requestMoneyBackButton").removeAttr("href"),$(".spinner").removeClass("d-none"),$("#requestMoneyConfirmBtnText").text(confirmBtnText)}));