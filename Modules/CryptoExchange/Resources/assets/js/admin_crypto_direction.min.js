"use strict";function restrictNumberToPrefdecimalOnInput(e){let t="crypto";"crypto_buy"==$("#direction_type").val()&&(t="fiat"),restrictNumberToPrefdecimal(e,t)}function exchangeRateControll(){"api"==$("#exchange_from").val()?($("#exchange_rate_div").hide(),$("#exchange_rate").prop("disabled",!0)):($("#exchange_rate_div").show(),$("#exchange_rate").prop("disabled",!1))}function determineDecimalPoint(){let e=$("#direction_type").val();"crypto_swap"==e?$(".min_amount, .max_amount, .fees_fixed, .fees_percentage, .exchange_rate, .total_fees").attr("placeholder",CRYPTODP):"crypto_buy"==e?($(".min_amount, .max_amount, .fees_fixed, .fees_percentage, .total_fees").attr("placeholder",FIATDP),$(".exchange_rate").attr("placeholder",CRYPTODP)):($(".min_amount, .max_amount, .fees_fixed, .fees_percentage, .total_fees").attr("placeholder",CRYPTODP),$(".exchange_rate").attr("placeholder",FIATDP))}function restrictNumberToPrefdecimalOnInputExchange(e){let t="crypto";"crypto_sell"==$("#direction_type").val()&&(t="fiat"),restrictNumberToPrefdecimal(e,t)}function formatNumberToPrefDecimal(e=0){let t=decimalPreferrence;return e=Math.abs(e).toFixed(t)}if($(".content").find("#crypto_direction_create").length){function e(){let e=$("#token").val(),t=$("#direction_type").val(),n=$("#from_currency_id option:selected").val();"crypto_buy"==t?($("#payment_method_direction").show(),$.ajax({method:"GET",url:gatewayListUrl,dataType:"json",cache:!1,data:{_token:e,from_currency_id:n}}).done(function(e){let t="";200==e.status&&$.map(e.paymentMethod,function(e,n){t+=`<option value="${e.id}">${e.name}</option>`}),$("#payment_method").html(t)})):$("#payment_method_direction").hide()}function t(){let e=$("#token").val(),t=$("#direction_type").val(),n=$("#from_currency_id option:selected").val();$.ajax({method:"GET",url:getCurrencyUrl,dataType:"json",cache:!1,data:{_token:e,direction_type:t,from_currency_id:n}}).done(function(e){let t="";t+=`<option value="">${selectOneText}</option>`,$.each(e.fromCurrencies,function(e,a){t+=`<option value="${a.id}" ${a.id==n?"selected":""} data-type="${a.type}" >${a.code}</option>`}),$("#from_currency_id").html(t);let a="";a+=`<option value="">${selectOneText}</option>`,$.each(e.toCurrencies,function(e,t){a+=`<option value="${t.id}" data-type="${t.type}" >${t.code}</option>`}),$("#to_currency_id").html(a)})}$(function(){$(".select2").select2({}),$("#payment_method").select2({placeholder:selectGatewayText})}),$(window).on("load",function(){determineDecimalPoint(),t(),e(),exchangeRateControll()}),$(document).on("change","#direction_type",function(){determineDecimalPoint(),t(),e(),$("#fees_percentage").val(""),$("#fees_fixed").val(""),$("#min_amount").val(""),$("#max_amount").val(""),$("#exchange_rate").val("")}),$(document).on("change","#from_currency_id",function(){t(),e()}),$(document).on("change","#exchange_from",function(){exchangeRateControll()}),$(document).on("input","#min_amount, #max_amount",function(){let e=parseFloat($("#min_amount").val()),t=parseFloat($("#max_amount").val());e&&t&&e>t?($("#max_error").addClass("error").text(maximumAmounText),$("#direction_create").attr("disabled",!0)):($("#max_error").text(""),$("#direction_create").attr("disabled",!1))}),$(document).on("submit","#exchange_direction_form",function(){exchangeRateControll(),$("#direction_create").attr("disabled",!0),$(".fa-spin").removeClass("displaynone"),$("#direction_create_text").text(createText),$("#users_cancel").attr("disabled",!0)})}if($(".content").find("#crypto_direction_edit").length){function n(e){let t=$("#token").val();e&&$.ajax({method:"GET",url:getCurrencyUrl,dataType:"json",cache:!1,data:{_token:t,to_currency_id:toCurrencyId,type:"edit",direction_type:directionType}}).done(function(e){var t="";t+=`<option value="${toCurrencyId}" >${toCurrencyCode}</option>`,$.each(e.toCurrencies,function(e,n){n.id!=toCurrencyId&&(t+=`<option value="${n.id}" >${n.code}</option>`)}),$("#to_currency_id").html(t)})}$(function(){$(".select2").select2({})}),$(document).ready(function(){var e=gateways.split(",").map(Number);$("#payment_method").select2({placeholder:selectGatewayText,allowClear:!0}).select2().val(e).trigger("change")}),$(document).on("submit","#exchange_direction_form",function(){exchangeRateControll(),$("#direction_create").attr("disabled",!0),$(".fa-spin").removeClass("displaynone"),$("#direction_create_text").text(updateText),$("#users_cancel").attr("disabled",!0)}),$(window).on("load",function(){determineDecimalPoint(),n($("#from_currency_id").val()),exchangeRateControll()}),$(document).on("change","#exchange_from",function(e){exchangeRateControll()}),$(document).on("change","#from_currency_id",function(e){n($("#from_currency_id").val())}),$(document).on("input","#min_amount, #max_amount",function(){let e=parseFloat($("#min_amount").val()),t=parseFloat($("#max_amount").val());e&&t&&e>t?($("#max_error").addClass("error").text(maximumAmounText),$("#direction_create").attr("disabled",!0)):($("#max_error").text(""),$("#direction_create").attr("disabled",!1))})}